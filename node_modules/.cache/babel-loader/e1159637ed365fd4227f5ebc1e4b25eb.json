{"ast":null,"code":"import React from\"react\";import{useHistory}from\"react-router\";import{Auth0Provider}from\"@auth0/auth0-react\";import{jsx as _jsx}from\"react/jsx-runtime\";var Auth0ProviderWithHistory=function Auth0ProviderWithHistory(_ref){var children=_ref.children;var history=useHistory();var domain=process.env.REACT_APP_AUTH0_DOMAIN;var clientId=process.env.REACT_APP_AUTH0_CLIENT_ID;var onRedirectCallback=function onRedirectCallback(appState){history.push((appState===null||appState===void 0?void 0:appState.returnTo)||window.location.pathname);};return/*#__PURE__*/_jsx(Auth0Provider,{domain:domain,clientId:clientId,redirectUri:\"\".concat(window.location.origin),onRedirectCallback:onRedirectCallback,audience:\"https://\".concat(domain,\"/api/v2/\"),scope:\"read:current_user\",children:children});};export default Auth0ProviderWithHistory;","map":{"version":3,"sources":["/home/colis_cheng/access-to-justice/src/auth0-provider-with-history.js"],"names":["React","useHistory","Auth0Provider","Auth0ProviderWithHistory","children","history","domain","process","env","REACT_APP_AUTH0_DOMAIN","clientId","REACT_APP_AUTH0_CLIENT_ID","onRedirectCallback","appState","push","returnTo","window","location","pathname","origin"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,aAAT,KAA8B,oBAA9B,C,2CAEA,GAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACjD,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,MAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA3B,CACA,GAAMC,CAAAA,QAAQ,CAAGH,OAAO,CAACC,GAAR,CAAYG,yBAA7B,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvCR,OAAO,CAACS,IAAR,CAAa,CAAAD,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEE,QAAV,GAAsBC,MAAM,CAACC,QAAP,CAAgBC,QAAnD,EACD,CAFD,CAIA,mBACE,KAAC,aAAD,EACE,MAAM,CAAEZ,MADV,CAEE,QAAQ,CAAEI,QAFZ,CAGE,WAAW,WAAKM,MAAM,CAACC,QAAP,CAAgBE,MAArB,CAHb,CAIE,kBAAkB,CAAEP,kBAJtB,CAKE,QAAQ,mBAAaN,MAAb,YALV,CAME,KAAK,CAAE,mBANT,UAQGF,QARH,EADF,CAYD,CArBD,CAuBA,cAAeD,CAAAA,wBAAf","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Auth0Provider } from \"@auth0/auth0-react\";\r\n\r\nconst Auth0ProviderWithHistory = ({ children }) => {\r\n  const history = useHistory();\r\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\r\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\r\n\r\n  const onRedirectCallback = (appState) => {\r\n    history.push(appState?.returnTo || window.location.pathname);\r\n  };\r\n\r\n  return (\r\n    <Auth0Provider\r\n      domain={domain}\r\n      clientId={clientId}\r\n      redirectUri={`${window.location.origin}`}\r\n      onRedirectCallback={onRedirectCallback}\r\n      audience={`https://${domain}/api/v2/`}\r\n      scope={\"read:current_user\"}\r\n    >\r\n      {children}\r\n    </Auth0Provider>\r\n  );\r\n};\r\n\r\nexport default Auth0ProviderWithHistory;\r\n"]},"metadata":{},"sourceType":"module"}